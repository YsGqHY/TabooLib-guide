<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-kether/分支结构与条件判断" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">分支结构与条件判断 | TabooLib</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://taboo.8aka.org/kether/分支结构与条件判断"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="分支结构与条件判断 | TabooLib"><meta data-rh="true" name="description" content="在实际应用中，我们往往需要用到各种各样的条件判断，判断玩家权限、判断玩家血量等等..."><meta data-rh="true" property="og:description" content="在实际应用中，我们往往需要用到各种各样的条件判断，判断玩家权限、判断玩家血量等等..."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://taboo.8aka.org/kether/分支结构与条件判断"><link data-rh="true" rel="alternate" href="https://taboo.8aka.org/kether/分支结构与条件判断" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://taboo.8aka.org/kether/分支结构与条件判断" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Kether","item":"https://taboo.8aka.org/kether/"},{"@type":"ListItem","position":2,"name":"分支结构与条件判断","item":"https://taboo.8aka.org/kether/分支结构与条件判断"}]}</script><link rel="stylesheet" href="/assets/css/styles.e3128ec7.css">
<script src="/assets/js/runtime~main.21f5f435.js" defer="defer"></script>
<script src="/assets/js/main.0424f652.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_GOgz" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="theme-announcement-bar announcementBar_zmRM" style="background-color:hsl(221.2 83.2% 53.3%);color:#ffffff" role="banner"><div class="content_Q6cz announcementBarContent_UjyH">📢 笨蛋文档QQ群由于不可抗力因素（群员恶意举报，恶意发言）目前被封禁，请移至备用群 <strong style="color: #ffffff; background: hsl(221.2 83.2% 43.3%); padding: 2px 6px; border-radius: 4px;">874877925</strong></div></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__brand__wrapper"><a class="logo" href="/"><div class="navbar__brand"><div class="light">Taboo</div><div>Lib</div></div></a></div><ul class="links"><li><a class="navbar__link" href="/">首页</a></li><li><a class="navbar__link" href="/intro">阅读文档</a></li><li><a class="navbar__link" href="/kether-list">Kether 语句</a></li><li><a class="navbar__link" href="/plugin-catalog">插件汇总</a></li><li><a class="navbar__link" href="/contribution/">参与贡献</a></li></ul><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_dCNk"><div class="navbar__search searchBarContainer_cpvL" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_WpOW" value=""><div class="loadingRing_H8Rt searchBarLoadingRing_logo"><div></div><div></div><div></div><div></div></div></div></div><div class="actions"><div class="navbar__action__item flex"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 0C7.77614 0 8 0.223858 8 0.5V2.5C8 2.77614 7.77614 3 7.5 3C7.22386 3 7 2.77614 7 2.5V0.5C7 0.223858 7.22386 0 7.5 0ZM2.1967 2.1967C2.39196 2.00144 2.70854 2.00144 2.90381 2.1967L4.31802 3.61091C4.51328 3.80617 4.51328 4.12276 4.31802 4.31802C4.12276 4.51328 3.80617 4.51328 3.61091 4.31802L2.1967 2.90381C2.00144 2.70854 2.00144 2.39196 2.1967 2.1967ZM0.5 7C0.223858 7 0 7.22386 0 7.5C0 7.77614 0.223858 8 0.5 8H2.5C2.77614 8 3 7.77614 3 7.5C3 7.22386 2.77614 7 2.5 7H0.5ZM2.1967 12.8033C2.00144 12.608 2.00144 12.2915 2.1967 12.0962L3.61091 10.682C3.80617 10.4867 4.12276 10.4867 4.31802 10.682C4.51328 10.8772 4.51328 11.1938 4.31802 11.3891L2.90381 12.8033C2.70854 12.9986 2.39196 12.9986 2.1967 12.8033ZM12.5 7C12.2239 7 12 7.22386 12 7.5C12 7.77614 12.2239 8 12.5 8H14.5C14.7761 8 15 7.77614 15 7.5C15 7.22386 14.7761 7 14.5 7H12.5ZM10.682 4.31802C10.4867 4.12276 10.4867 3.80617 10.682 3.61091L12.0962 2.1967C12.2915 2.00144 12.608 2.00144 12.8033 2.1967C12.9986 2.39196 12.9986 2.70854 12.8033 2.90381L11.3891 4.31802C11.1938 4.51328 10.8772 4.51328 10.682 4.31802ZM8 12.5C8 12.2239 7.77614 12 7.5 12C7.22386 12 7 12.2239 7 12.5V14.5C7 14.7761 7.22386 15 7.5 15C7.77614 15 8 14.7761 8 14.5V12.5ZM10.682 10.682C10.8772 10.4867 11.1938 10.4867 11.3891 10.682L12.8033 12.0962C12.9986 12.2915 12.9986 12.608 12.8033 12.8033C12.608 12.9986 12.2915 12.9986 12.0962 12.8033L10.682 11.3891C10.4867 11.1938 10.4867 10.8772 10.682 10.682ZM5.5 7.5C5.5 6.39543 6.39543 5.5 7.5 5.5C8.60457 5.5 9.5 6.39543 9.5 7.5C9.5 8.60457 8.60457 9.5 7.5 9.5C6.39543 9.5 5.5 8.60457 5.5 7.5ZM7.5 4.5C5.84315 4.5 4.5 5.84315 4.5 7.5C4.5 9.15685 5.84315 10.5 7.5 10.5C9.15685 10.5 10.5 9.15685 10.5 7.5C10.5 5.84315 9.15685 4.5 7.5 4.5Z" fill="currentColor"></path></svg></div><a href="https://github.com/8aka-team/TabooLib-guide/" class="navbar__action__item flex" target="_blank" rel="noopener noreferrer"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z" fill="currentColor"></path></svg></a><div aria-label="切换导航栏" aria-expanded="false" class="navbar__action__item navbar__toggle clean-btn"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_sqmq"><div class="docsWrapper_UdzC"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_XUco" type="button"></button><div class="docRoot_dDvm"><aside class="theme-doc-sidebar-container docSidebarContainer_ekIW"><div class="sidebarViewport_RaM3"><div class="sidebar_Wjwq"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_fAKw menuWithAnnouncementBar_hkva"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/adyeshach">adyeshach</a><button aria-label="折叠侧边栏分类 &#x27;adyeshach&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/adyeshach/">前言</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/开始">开始</a><button aria-label="展开侧边栏分类 &#x27;开始&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/adyeshach/service">服务</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/adyeshach/story">故事</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/adyeshach/qa">Q&amp;A</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/aiyatsbus">Aiyatsbus</a><button aria-label="展开侧边栏分类 &#x27;Aiyatsbus&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/intro">介绍</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/kether/">Kether</a><button aria-label="折叠侧边栏分类 &#x27;Kether&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kether/语句入门">语句入门</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kether/分支结构与条件判断">分支结构与条件判断</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kether/变量的使用 Variable">变量的使用 Variable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kether/数学运算 Math">数学运算 Math</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kether/内联脚本语句 Inline">内联脚本语句 Inline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kether/循环语句 While &amp; ForEach">循环语句 While &amp; ForEach</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kether/脚本执行者与 Switch 语句">脚本执行者与 Switch 语句</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kether/命名空间 Namespace">命名空间 Namespace</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/️chemdah">️Chemdah</a><button aria-label="折叠侧边栏分类 &#x27;️Chemdah&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chemdah/">前言</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/开始-2">开始</a><button aria-label="展开侧边栏分类 &#x27;开始&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chemdah/service">服务</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/chesed">Chesed</a><button aria-label="展开侧边栏分类 &#x27;Chesed&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ketherlist">动作列表</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/plugins">插件列表</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/components/">行内复合文本</a><button aria-label="展开侧边栏分类 &#x27;行内复合文本&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sync">文档同步</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/TrChat/">介绍</a><button aria-label="展开侧边栏分类 &#x27;介绍&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/TrMenu/">TrMenu</a><button aria-label="展开侧边栏分类 &#x27;TrMenu&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/contribution/">贡献指南</a><button aria-label="展开侧边栏分类 &#x27;贡献指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_eJi0"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Jz7c"><div class="docItemContainer_wLki"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Ich2" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_ipUf"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/kether/"><span>Kether</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">分支结构与条件判断</span></li></ul></nav><div class="tocCollapsible_DvI1 theme-doc-toc-mobile tocMobile_b6Cd"><button type="button" class="clean-btn tocCollapsibleButton_GrIh">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>分支结构与条件判断</h1></header>
<p>在实际应用中，我们往往需要用到各种各样的条件判断，判断玩家权限、判断玩家血量等等...</p>
<p>下面我们来学习 Kether 中最常用且最重要的内容：分支结构与条件判断</p>
<h2 class="anchor anchorWithStickyNavbar_xdRd" id="if--else-语句">If &amp; Else 语句<a href="#if--else-语句" class="hash-link" aria-label="If &amp; Else 语句的直接链接" title="If &amp; Else 语句的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if {action A} then {action B}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if {action A} then {action B} else {action C}</span><br></span></code></pre></div></div>
<details class="details_x9b8 alert alert--info details_IBII" data-collapsed="true"><summary>「展开 / 收起详情」💠 If &amp; Else 语句</summary><div><div class="collapsibleContent_UHpb"><iframe src="https://www.yuque.com/sacredcraft/kether/reference?view=doc_embed&amp;inner=HptKr" width="100%" height="500"></iframe></div></div></details>
<p>该语句的作用是判断条件 action A 是否满足，若条件满足，则执行 then 后面的 action B 语句，反之执行 else 后面的 action C 语句</p>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="单分支结构">单分支结构<a href="#单分支结构" class="hash-link" aria-label="单分支结构的直接链接" title="单分支结构的直接链接">​</a></h3>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if {action A} then {action B}</span><br></span></code></pre></div></div>
<p>单分支结构只涉及一个条件判断。如果该条件为真（true），则执行相关语句，否则跳过</p>
<p>若 action A 参数的返回值为 true 的时候，则会执行 then 后面的 action B 参数语句，反之则跳过</p>
<p>例如判断玩家权限，若拥有某权限则发送一段消息</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if perm &quot;security.bypass&quot; then tell &quot;权限认证通过&quot;</span><br></span></code></pre></div></div>
<p>当 Permission 语句检测到玩家拥有&quot;security.bypass&quot;权限后，会返回 true，此时 If 语句条件通过，执行 then 后面的语句。</p>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="双分支结构">双分支结构<a href="#双分支结构" class="hash-link" aria-label="双分支结构的直接链接" title="双分支结构的直接链接">​</a></h3>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if {action A} then {action B} else {action C}</span><br></span></code></pre></div></div>
<p>双分支结构不但判断一个条件，还提供了条件为假时的执行路径。它通常由 if 和 else 共同组成</p>
<p>若 action A 参数的返回值为 true 的时候，则会执行 then 后面的 action B 参数语句，反之则执行 else 后面的 action C 语句</p>
<p>例如判断玩家权限，若拥有某权限则发送一段消息，反之则发送其他消息</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if perm &quot;security.bypass&quot; then tell &quot;权限认证通过&quot; else tell &quot;权限认证失败&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="多重分支结构">多重分支结构<a href="#多重分支结构" class="hash-link" aria-label="多重分支结构的直接链接" title="多重分支结构的直接链接">​</a></h3>
<p>多重分支结构在有多个条件判断时使用，每个条件判断都有自己的语句。</p>
<p>本质上是多个 If &amp; Else 语句的嵌套使用。</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if {action A} then {action B}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if {action C} then {action D}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else {action E}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>由于 else 后面的参数类型为 Action，那么它除了填入 Tell 语句之外当然可以嵌套填入另一个 If &amp; Else 语句。以此来组成多重分支结构。</p>
<p>例如判断玩家的会员权限，输出对应的信息</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if perm &quot;status.ssvip&quot; then tell &quot;至尊会员&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if perm &quot;status.svip&quot; then tell &quot;超级会员&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if perm &quot;status.vip&quot; then tell &quot;会员&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else tell &quot;非会员&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p><strong>Tips：</strong> 在多重分支结构中，需要特别注意前后条件的顺序！</p>
<p>如果上面的例子我反过来写，那么可能会出现一些意料不到的错误：</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if perm &quot;status.vip&quot; then tell &quot;会员&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if perm &quot;status.svip&quot; then tell &quot;超级会员&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if perm &quot;status.ssvip&quot; then tell &quot;至尊会员&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else tell &quot;非会员&quot;</span><br></span></code></pre></div></div>
<p>因为更高级别的会员必定拥有低级会员的所有权限。假如第一个条件判断的是普通会员的权限，那么我作为至尊会员必然拥有该权限，此时条件通过，就会执行第一个 then 后面的内容，即 tell &quot;会员&quot;，很显然这并不是正确的结果。</p>
<p>因此在使用多重分支结构的时候，一定要注意条件的判断顺序！</p>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="if--else-语句返回值">If &amp; Else 语句返回值<a href="#if--else-语句返回值" class="hash-link" aria-label="If &amp; Else 语句返回值的直接链接" title="If &amp; Else 语句返回值的直接链接">​</a></h3>
<p>不知道你有没有考虑过，If &amp; Else 语句是否有返回值这个问题？来实验一下就知道了：</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">&gt;/vul eval if perm &quot;security.bypass&quot; then &quot;yes&quot; else &quot;no&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‹ › Result: yes</span><br></span></code></pre></div></div>
<p>可以看到，当条件成立时，If &amp; Else 语句的返回值就是 then 后面语句的返回值，反之则是 else 后面语句的返回值</p>
<p>那如果是单分支情况下，条件不满足呢？</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">&gt;/vul eval if perm &quot;security.bypass&quot; then &quot;yes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‹ › Result: null</span><br></span></code></pre></div></div>
<p>如果不满足的情况下，返回值则为 null，也就是一个<strong>空值</strong></p>
<p>总结：单/双分支时，条件满足则返回 then 后面语句的执行结果；单分支条件不满足时，返回值为 null；多重分支同理。</p>
<p>那么了解这个有什么用处吗？当然有！</p>
<p>还记得 Tell 语句的参数是什么类型？Action 类型！</p>
<p>那我们是不是可以把 then 和 else 里面的 Tell 全都提取到最前面来呢？</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">tell if perm &quot;security.bypass&quot; then &quot;权限认证通过&quot; else &quot;权限认证失败&quot;</span><br></span></code></pre></div></div>
<p>这样看起来是不是更简短了！在双分支以及多重分支的时候可以这样简化。单分支的时候就不太建议这样写了，将一个 空值 null 通过 Tell 发送给玩家，聊天栏会收到空白的一行内容，那还不如不发呢。</p>
<h2 class="anchor anchorWithStickyNavbar_xdRd" id="check-语句">Check 语句<a href="#check-语句" class="hash-link" aria-label="Check 语句的直接链接" title="Check 语句的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">check {action A} {symbol} {action B}</span><br></span></code></pre></div></div>
<details class="details_x9b8 alert alert--info details_IBII" data-collapsed="true"><summary>「展开 / 收起详情」💠 Check 语句</summary><div><div class="collapsibleContent_UHpb"><iframe src="https://www.yuque.com/sacredcraft/kether/reference?view=doc_embed&amp;inner=iWbHm" width="100%" height="500"></iframe></div></div></details>
<p>该语句的作用是判断左边的 action A 的返回值与右边 action B 的返回值的关系。</p>
<p>具体判断关系由中间的符号参数 Symbol 决定</p>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="判断大小关系">判断大小关系<a href="#判断大小关系" class="hash-link" aria-label="判断大小关系的直接链接" title="判断大小关系的直接链接">​</a></h3>
<p>判断大小关系有四种符号：</p>
<ul>
<li><code>&gt;</code>：大于</li>
<li><code>&gt;=</code>：大于或等于</li>
<li><code>&lt;</code>：小于</li>
<li><code>&lt;=</code>：小于或等于</li>
</ul>
<p>注意：大小关系判断只能用在数字与数字之间，不能用在字符串、数组等其他类型之间！</p>
<p>判断玩家血量是否大于等于某个值</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">check player health &gt;= 10</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="判断等价关系">判断等价关系<a href="#判断等价关系" class="hash-link" aria-label="判断等价关系的直接链接" title="判断等价关系的直接链接">​</a></h3>
<p>判断相等关系有五种符号：</p>
<ul>
<li><code>==</code>：等于，字面意思上相同</li>
<li><code>!=</code>：不等于，字面意思上不同</li>
<li><code>=?</code>：相似等于，将左侧与右侧返回值转化为文本进行相似比对，并且忽略大小写</li>
<li><code>=!</code>：非推断等于，比较少用</li>
<li><code>=!!</code>：指左侧与右侧在内存路径上相同，比较少用</li>
</ul>
<p>例如判断玩家名是否等于某个 ID 或不等于</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">check player name == &quot;Lanscarlos&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">check player name != &quot;Lanscarlos&quot;</span><br></span></code></pre></div></div>
<p>例如判断玩家名是否等于某个 ID（忽略大小写）</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">check player name =? &quot;lanscarlos&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="判断包含关系">判断包含关系<a href="#判断包含关系" class="hash-link" aria-label="判断包含关系的直接链接" title="判断包含关系的直接链接">​</a></h3>
<p>判断包含关系有两种符号：</p>
<ul>
<li><code>in</code>：左侧 action A 的返回值是否属于右侧 action B 返回值的内容之一</li>
<li><code>has</code>：左侧 action A 是否含有右侧 action B 内容</li>
</ul>
<p>例如判断某个文本中是否含有&quot;KFC&quot;字段</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">check &quot;Crazy KFC Vivo 50&quot; has &quot;KFC&quot;</span><br></span></code></pre></div></div>
<p>反过来写也是一样的，符号由 has 换成 in 即可</p>
<p>判断&quot;KFC&quot;字段是否存在于某个文本中</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">check &quot;KFC&quot; in &quot;Crazy KFC Vivo 50&quot;</span><br></span></code></pre></div></div>
<p>判断某个数组内是否含有某个数字</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">check array [ 1 1 4 5 1 4 ] has 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">check 5 in array [ 1 1 4 5 1 4 ]</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_xdRd" id="case--when-语句">Case &amp; When 语句<a href="#case--when-语句" class="hash-link" aria-label="Case &amp; When 语句的直接链接" title="Case &amp; When 语句的直接链接">​</a></h2>
<p>Case &amp; When 是一种多重分支结构语句，在某些方面会比使用 If &amp; Else 的多重分支更加简洁</p>
<p>假设我们要实现&quot;当玩家血量大于等于 15，10，5，以及其他情况时，分别发送不同的消息&quot;</p>
<p>我们先尝试用 If &amp; Else 的多重分支来实现看看：</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">tell if check player health &gt;= 15 then &quot;血量充盈&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if check player health &gt;= 10 then &quot;血量充足&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if check player health &gt;= 5 then &quot;血量堪忧&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else &quot;血量告急&quot;</span><br></span></code></pre></div></div>
<p>是不是看起来特别麻烦？那如果用 Case &amp; When 改写会有多简洁呢？</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">`tell case player health [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when &gt;= 15 then &quot;血量充盈&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when &gt;= 10 then &quot;血量充足&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when &gt;= 5 then &quot;血量堪忧&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else &quot;血量告急&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre></div></div>
<p>应该不用我多说了，结果显而易见。</p>
<p>下面我们来学习一下 Case &amp; When 的用法，首先是 Case 语句的整体结构：</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">case {action A} [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else {action}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre></div></div>
<p>case 后面紧跟着的 action A 参数是需要进行判断的值。</p>
<p>在上面的例子中，我们填入的是获取玩家生命值的语句 player health。</p>
<p><strong>中括号</strong>内包裹着的是具体的 when 分支，每一条 when 及其后面的语句都是一个分支。</p>
<p>当所有的 when 分支都不满足情况时，则执行 else 后面的语句</p>
<p>Case 的结构大体上是这样，下面我们讲一下 When 的几种写法</p>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="关系判断">关系判断<a href="#关系判断" class="hash-link" aria-label="关系判断的直接链接" title="关系判断的直接链接">​</a></h3>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">when {symbol} {action B} then {action C}</span><br></span></code></pre></div></div>
<p>when 后面紧跟着的 action B 参数是用来判断与 action A 关系的值</p>
<p>当 case 后面的 action A 与 action B 的关系满足 symbol 符号定义时，则执行 then 后面的 action C 语句</p>
<p>相当于 <code>if check {action A} {symbol} {action B} then {action C}</code></p>
<p>其中 symbol 符号参考 Check 语句的用法</p>
<p>例如：</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">tell case player health [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when &gt;= 15 then &quot;血量充盈&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when &gt;= 10 then &quot;血量充足&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when &gt;= 5 then &quot;血量堪忧&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else &quot;血量告急&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="等价关系判断">等价关系判断<a href="#等价关系判断" class="hash-link" aria-label="等价关系判断的直接链接" title="等价关系判断的直接链接">​</a></h3>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">when {action B} then {action C}</span><br></span></code></pre></div></div>
<p>当省略 when 后面的 <code>{symbol}</code> 符号参数时，则默认进行等价（<code>==</code>）判断，即 action A == action B</p>
<p>相当于 <code>if check {action A} == {action B} then {action C}</code></p>
<p>例如，判断血量是否等于某个数值：</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">tell case player health [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when 20 then &quot;满血状态！&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when 5 then &quot;血量等于 5 HP, 危险！&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else &quot;其他情况&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="多值等价关系判断">多值等价关系判断<a href="#多值等价关系判断" class="hash-link" aria-label="多值等价关系判断的直接链接" title="多值等价关系判断的直接链接">​</a></h3>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">when {action list} then {action C}</span><br></span></code></pre></div></div>
<p>这里同样省略了 <code>{symbol}</code> 符号参数，所以是等价判断（<code>==</code>）</p>
<p>只不过 when 后面的参数类型变成了 Action List，这意味着我们可以传入多个 action 的值，如果 action A 的值，与 action list 中任意一个值相等，那么就执行 then 后面的 action C 语句。</p>
<p>例如判断玩家名字的情况，当玩家名字为 Lanscarlos 或 Spark_nano 时，输出信息&quot;嘻嘻&quot;，当玩家名为 bukkitObj 时，输出&quot;哈哈&quot;</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">tell case player name [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when [ &quot;Lanscarlos&quot; &quot;Spark_nano&quot; ] then &quot;嘻嘻&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when &quot;bukkitObj&quot; then &quot;哈哈&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else &quot;其他情况&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre></div></div>
<p><strong>Tips：</strong> When 的三种不同写法可以同时用到一个 Case 语句里，就像上面这个例子一样。</p>
<h2 class="anchor anchorWithStickyNavbar_xdRd" id="语句块">语句块<a href="#语句块" class="hash-link" aria-label="语句块的直接链接" title="语句块的直接链接">​</a></h2>
<p>前面我们举的例子里，If &amp; Else 语句里的 then 和 else 后面都只填了一个语句，那如果我希望执行多条语句该怎么办呢？这个时候就需要用到语句块了！</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if {action A} then {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {action B}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {action C}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>什么是语句块呢？一<strong>条或多条</strong>语句用<strong>大括号</strong> <code>{...}</code> 括起来，就是语句块。</p>
<p>如上面例子所示，语句 action B 和语句 action C 同时被外层的红色大括号包裹。此时，前后的大括号以及其内部的语句 action B 和语句 action C 就组成了一个语句块。</p>
<p>语句块可以被 Action 类型参数视为语句去读取。换言之，语句块其实可以被粗略看做是一条特殊的语句，语句块在执行时会依次去执行其内部包裹着的子语句，也就是按顺序先执行 action B 然后到 action C。</p>
<p>既然它可被看做是一条语句，那么它的是否具有返回值呢？当然有！你自己试验一下就知道了。</p>
<p>语句块的返回值通常是其内部最后一条子语句的返回值，也就是 action C 语句的返回值。</p>
<p>例如：</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if perm &quot;security.bypass&quot; then {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tell player name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tell &quot;权限认证通过&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>当然，语句块不仅仅可以用在 If &amp; Else 语句里，只要是 Action 类型参数的地方，它都能用！</p>
<p>比如用在 Case &amp; When 里，甚至是 Tell 里面都行！</p>
<h2 class="anchor anchorWithStickyNavbar_xdRd" id="复合条件判断">复合条件判断<a href="#复合条件判断" class="hash-link" aria-label="复合条件判断的直接链接" title="复合条件判断的直接链接">​</a></h2>
<p>在面对一些复杂的条件判断情况时，我们往往需要结合多个条件一起去判断，这个时候就需要借助其他语句了。</p>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="not-语句">Not 语句<a href="#not-语句" class="hash-link" aria-label="Not 语句的直接链接" title="Not 语句的直接链接">​</a></h3>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">not {action}</span><br></span></code></pre></div></div>
<p>该语句的作用是将参数的返回值取反，等价于<strong>逻辑非</strong>。例如：</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">not perm &quot;security.bypass&quot;</span><br></span></code></pre></div></div>
<p>若该玩家拥有&quot;security.bypass&quot;权限，那么 Permission 语句会返回 true 值，而 Not 语句会将该 true 值取反变成 false。</p>
<p>举例：若玩家没有&quot;security.bypass&quot;权限，则发送禁止通过消息</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if not perm &quot;security.bypass&quot; then tell &quot;禁止通过！&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="any-语句">Any 语句<a href="#any-语句" class="hash-link" aria-label="Any 语句的直接链接" title="Any 语句的直接链接">​</a></h3>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">any {action list}</span><br></span></code></pre></div></div>
<p>该语句的作用是判断 action list 中是否有任意一个语句的返回值为 true。若 action list 中有任意一个语句的返回值为 true，那么整个 Any 语句的返回值为 true，否则返回值为 false。相当于<strong>逻辑与</strong>。</p>
<p>举例：若玩家拥有&quot;security.admin&quot;或&quot;security.bypass&quot;任意一个权限时，输出信息</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if any [ perm &quot;security.admin&quot; perm &quot;security.bypass&quot; ] then tell &quot;权限认证通过&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_xdRd" id="all-语句">All 语句<a href="#all-语句" class="hash-link" aria-label="All 语句的直接链接" title="All 语句的直接链接">​</a></h3>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">all {action list}</span><br></span></code></pre></div></div>
<p>该语句的作用是判断 action list 中是否所有语句的返回值为 true。若 action list 中所有语句的返回值为 true，则All 语句返回值为 true，若任意一个语句返回值为 false，那么 All 语句返回值都将是 false。相当于<strong>逻辑与</strong>。</p>
<p>举例：若玩家<strong>同时</strong>拥有&quot;security.admin&quot;和&quot;security.bypass&quot;两个权限时，输出信息</p>
<div class="language-text codeBlockContainer_zQ5j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_y0sX"><pre tabindex="0" class="prism-code language-text codeBlock_Obxs thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_eKxm"><span class="token-line" style="color:#393A34"><span class="token plain">if all [ perm &quot;security.admin&quot; perm &quot;security.bypass&quot; ] then tell &quot;权限认证通过&quot;</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/kether/语句入门"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">语句入门</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/kether/变量的使用 Variable"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">变量的使用 Variable</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_HO3d thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#if--else-语句" class="table-of-contents__link toc-highlight">If &amp; Else 语句</a><ul><li><a href="#单分支结构" class="table-of-contents__link toc-highlight">单分支结构</a></li><li><a href="#双分支结构" class="table-of-contents__link toc-highlight">双分支结构</a></li><li><a href="#多重分支结构" class="table-of-contents__link toc-highlight">多重分支结构</a></li><li><a href="#if--else-语句返回值" class="table-of-contents__link toc-highlight">If &amp; Else 语句返回值</a></li></ul></li><li><a href="#check-语句" class="table-of-contents__link toc-highlight">Check 语句</a><ul><li><a href="#判断大小关系" class="table-of-contents__link toc-highlight">判断大小关系</a></li><li><a href="#判断等价关系" class="table-of-contents__link toc-highlight">判断等价关系</a></li><li><a href="#判断包含关系" class="table-of-contents__link toc-highlight">判断包含关系</a></li></ul></li><li><a href="#case--when-语句" class="table-of-contents__link toc-highlight">Case &amp; When 语句</a><ul><li><a href="#关系判断" class="table-of-contents__link toc-highlight">关系判断</a></li><li><a href="#等价关系判断" class="table-of-contents__link toc-highlight">等价关系判断</a></li><li><a href="#多值等价关系判断" class="table-of-contents__link toc-highlight">多值等价关系判断</a></li></ul></li><li><a href="#语句块" class="table-of-contents__link toc-highlight">语句块</a></li><li><a href="#复合条件判断" class="table-of-contents__link toc-highlight">复合条件判断</a><ul><li><a href="#not-语句" class="table-of-contents__link toc-highlight">Not 语句</a></li><li><a href="#any-语句" class="table-of-contents__link toc-highlight">Any 语句</a></li><li><a href="#all-语句" class="table-of-contents__link toc-highlight">All 语句</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://8aka.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">驿站主页</a></li><li class="footer__item"><a href="https://github.com/8aka-Team/TabooLib-guide" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_ZFRQ"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">交流</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://qm.qq.com/q/4aMfrFylEA" target="_blank" rel="noopener noreferrer" class="footer__link-item">QQ 群<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_ZFRQ"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 <b>8aka-Team</b> All Rights Reserved. | Web Design By Lythrilla</div></div></div></footer></div>
</body>
</html>