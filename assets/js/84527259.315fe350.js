"use strict";(self.webpackChunktaboolib_guide=self.webpackChunktaboolib_guide||[]).push([["8885"],{547:function(e,n,a){a.r(n),a.d(n,{frontMatter:()=>i,toc:()=>c,default:()=>d,metadata:()=>t,assets:()=>o,contentTitle:()=>s});var t=JSON.parse('{"id":"TrChat/api","title":"API","description":"\u4EA4\u4E92","source":"@site/docs/TrChat/api.md","sourceDirName":"TrChat","slug":"/TrChat/api","permalink":"/TrChat/api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u4ECB\u7ECD","permalink":"/TrChat/"},"next":{"title":"\u521B\u5EFA","permalink":"/TrChat/channel/create"}}'),l=a(9979),r=a(6774);let i={},s="API",o={},c=[{value:"\u4EA4\u4E92",id:"\u4EA4\u4E92",level:2},{value:"TrChatAPI",id:"trchatapi",level:3},{value:"HookPlugin",id:"hookplugin",level:3},{value:"\u4E8B\u4EF6",id:"\u4E8B\u4EF6",level:2},{value:"TrChatEvent",id:"trchatevent",level:3},{value:"TrChatItemShowEvent",id:"trchatitemshowevent",level:3},{value:"TrChatReceiveEvent",id:"trchatreceiveevent",level:3},{value:"TrChatReloadEvent",id:"trchatreloadevent",level:3},{value:"CustomDatabaseEvent",id:"customdatabaseevent",level:3}];function h(e){let n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"api",children:"API"})}),"\n",(0,l.jsx)(n.h2,{id:"\u4EA4\u4E92",children:"\u4EA4\u4E92"}),"\n",(0,l.jsx)(n.h3,{id:"trchatapi",children:"TrChatAPI"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"interface TrChatAPI {\n    fun getComponentManager(): ComponentManager\n    fun getChannelManager(): ChannelManager\n    fun getFilterManager(): FilterManager\n    fun getClientMessageManager(): ClientMessageManager\n    fun getProxyMessageManager(): ProxyMessageManager\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u901A\u8FC7",(0,l.jsx)(n.code,{children:"TrChat.api()"}),"\u83B7\u53D6\u5B9E\u4F8B"]}),"\n",(0,l.jsx)(n.h3,{id:"hookplugin",children:"HookPlugin"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"object HookPlugin {\n    /* \u6CE8\u518C\u81EA\u5B9A\u4E49\u7269\u54C1\u5C55\u793A\u65B9\u6CD5 */\n    fun registerDisplayItemHook(name: String, func: BiFunction<ItemStack, Player, ItemStack>)\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u4E8B\u4EF6",children:"\u4E8B\u4EF6"}),"\n",(0,l.jsx)(n.h3,{id:"trchatevent",children:"TrChatEvent"}),"\n",(0,l.jsx)(n.p,{children:"\u53D1\u9001\u804A\u5929\u65F6\u89E6\u53D1"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'public class Demo implements Listener {\n    \n    @EventHandler\n    private void onTrChat(TrChatEvent e) {\n        e.getChannel(); // \u83B7\u53D6\u804A\u5929\u9891\u9053\n        e.getSession(); // \u83B7\u53D6\u804A\u5929\u4F1A\u8BDD\n        e.setMessage("..."); // \u6539\u53D8\u804A\u5929\u5185\u5BB9\n        e.setCanceled(true); // \u53D6\u6D88\u53D1\u9001\u804A\u5929\n    }   \n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"::: tip\n\u81EATrChat-2.0.0\u8D77, \u5DF2\u4E0D\u4F1A\u53D6\u6D88AsyncPlayerChatEvent\n:::"}),"\n",(0,l.jsx)(n.h3,{id:"trchatitemshowevent",children:"TrChatItemShowEvent"}),"\n",(0,l.jsx)(n.p,{children:"\u5C55\u793A\u7269\u54C1\u65F6\u89E6\u53D1"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"class TrChatItemShowEvent(\n    val player: Player,\n    var item: ItemStack,\n    val isCompatibleMode: Boolean\n) : BukkitProxyEvent() {\n\n    override val allowCancelled: Boolean\n        get() = false\n\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"trchatreceiveevent",children:"TrChatReceiveEvent"}),"\n",(0,l.jsx)(n.p,{children:"\u6BCF\u4E2A\u73A9\u5BB6\u6536\u5230\u804A\u5929\u65F6\u89E6\u53D1"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"class TrChatReceiveEvent(\n    val receiver: CommandSender,\n    var sender: UUID?,\n    var message: ComponentText,\n    val session: ChatSession? = (receiver as? Player)?.session\n): BukkitProxyEvent() {\n\n    val player = session?.player\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"trchatreloadevent",children:"TrChatReloadEvent"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"class TrChatReloadEvent {\n\n    class Function(val functions: MutableList<me.arasple.mc.trchat.module.display.function.Function>) : BukkitProxyEvent() {\n\n        override val allowCancelled: Boolean\n            get() = false\n    }\n\n    class Channel(val channels: MutableMap<String, me.arasple.mc.trchat.module.display.channel.Channel>) : BukkitProxyEvent() {\n\n        override val allowCancelled: Boolean\n            get() = false\n    }\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"customdatabaseevent",children:"CustomDatabaseEvent"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"class CustomDatabaseEvent(val name: String, var database: Database? = null) : BukkitProxyEvent() {\n\n    override val allowCancelled: Boolean\n        get() = false\n}\n"})})]})}function d(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},6774:function(e,n,a){a.d(n,{Z:()=>s,a:()=>i});var t=a(2136);let l={},r=t.createContext(l);function i(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);