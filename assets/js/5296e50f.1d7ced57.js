"use strict";(self.webpackChunktaboolib_guide=self.webpackChunktaboolib_guide||[]).push([["9944"],{7614:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>a,toc:()=>t,default:()=>j,metadata:()=>l,assets:()=>d,contentTitle:()=>c});var l=JSON.parse('{"id":"TrMenu/script/javascript","title":"JavaScript","description":"\u672C\u8282\u9700\u8981\u6709\u4E00\u5B9A\u7684 Java / JavaScript \u6216\u7C7B\u4F3C\u7F16\u7A0B\u57FA\u7840\u65B9\u4FBF\u7406\u89E3","source":"@site/docs/TrMenu/script/javascript.md","sourceDirName":"TrMenu/script","slug":"/TrMenu/script/javascript","permalink":"/TrMenu/script/javascript","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"description":"\u672C\u8282\u9700\u8981\u6709\u4E00\u5B9A\u7684 Java / JavaScript \u6216\u7C7B\u4F3C\u7F16\u7A0B\u57FA\u7840\u65B9\u4FBF\u7406\u89E3"},"sidebar":"tutorialSidebar","previous":{"title":"\u811A\u672C","permalink":"/TrMenu/script/"},"next":{"title":"JEXL","permalink":"/TrMenu/script/jexl"}}'),r=i(9979),s=i(6774);let a={description:"\u672C\u8282\u9700\u8981\u6709\u4E00\u5B9A\u7684 Java / JavaScript \u6216\u7C7B\u4F3C\u7F16\u7A0B\u57FA\u7840\u65B9\u4FBF\u7406\u89E3"},c="JavaScript",d={},t=[{value:"\u5BF9\u8C61",id:"\u5BF9\u8C61",level:2},{value:"\u63D2\u4EF6\u6302\u94A9",id:"\u63D2\u4EF6\u6302\u94A9",level:3},{value:"Java \u547D\u540D\u7A7A\u95F4",id:"java-\u547D\u540D\u7A7A\u95F4",level:3},{value:"\u522B\u540D",id:"\u522B\u540D",level:4},{value:"\u5947\u6280\u6DEB\u5DE7",id:"\u5947\u6280\u6DEB\u5DE7",level:4},{value:"Java.type",id:"javatype",level:3},{value:"\u51FD\u6570",id:"\u51FD\u6570",level:2},{value:"\u6CE8\u610F",id:"\u6CE8\u610F",level:2},{value:"\u5B9E\u4F8B",id:"\u5B9E\u4F8B",level:2},{value:"utils",id:"utils",level:2},{value:"TrMenu GraalJS",id:"trmenu-graaljs",level:2},{value:"\u5B89\u88C5",id:"\u5B89\u88C5",level:3},{value:"\u8BED\u6CD5\u6269\u5C55",id:"\u8BED\u6CD5\u6269\u5C55",level:3},{value:"\u5305\u52A0\u8F7D",id:"\u5305\u52A0\u8F7D",level:4},{value:"JS\u6267\u884C",id:"js\u6267\u884C",level:4},{value:"\u5305\u8BBF\u95EE",id:"\u5305\u8BBF\u95EE",level:4},{value:"TODO",id:"todo",level:4}];function h(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"javascript",children:"JavaScript"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5BF9\u8C61",children:"\u5BF9\u8C61"}),"\n",(0,r.jsx)(n.p,{children:"TrMenu \u7684 JavaScript \u5F15\u64CE\u76EE\u524D\u63D0\u4F9B\u4EE5\u4E0B\u5BF9\u8C61"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"bukkitServer"})," \u5373 Bukkit.getServer()"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"utils"})," \u5373 me.arasple.mc.trmenu.module.internal.script.js.Assist.INSTANCE"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"player"})," \u5373 \u73A9\u5BB6\u672C\u8EAB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"session"})," \u5373 me.arasple.mc.trmenu.module.display.MenuSession"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u63D2\u4EF6\u6302\u94A9",children:"\u63D2\u4EF6\u6302\u94A9"}),"\n",(0,r.jsxs)(n.p,{children:["\u53EF\u4EE5\u5728 JavaScript \u4E2D\u8C03\u7528\u6302\u94A9\u7684\u63D2\u4EF6,\u6BD4\u5982\u6211\u60F3\u8C03\u7528 EcoItems \u7684 API \u6765\u83B7\u5F97\u7269\u54C1,\u53EF\u4EE5\u901A\u8FC7",(0,r.jsx)(n.code,{children:'ecoitems.getItem("my_item")'}),"\u6765\u83B7\u5F97"]}),"\n",(0,r.jsx)(n.p,{children:"\u806A\u660E\u7684\u4F60\u5E94\u8BE5\u5DF2\u7ECF\u53D1\u73B0\u4E86,\u7ED1\u5B9A\u5230 JavaScript \u547D\u540D\u7A7A\u95F4\u7684\u540D\u79F0\u662F\u63D2\u4EF6\u540D\u5B57\u7684\u5168\u5C0F\u5199"}),"\n",(0,r.jsx)(n.p,{children:"\u76EE\u524D\u652F\u6301\u6302\u94A9\u7684"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"EcoItems"}),"\n",(0,r.jsx)(n.li,{children:"Floodgate"}),"\n",(0,r.jsx)(n.li,{children:"HeadDatabase"}),"\n",(0,r.jsx)(n.li,{children:"HMCCosmetics"}),"\n",(0,r.jsx)(n.li,{children:"ItemsAdder"}),"\n",(0,r.jsx)(n.li,{children:"MagicCosmetics (\u6CE8\u610F:\u8FD9\u4E2A\u63D2\u4EF6\u7684 JS \u547D\u540D\u7A7A\u95F4\u662F magicAPI)"}),"\n",(0,r.jsx)(n.li,{children:"MagicGem"}),"\n",(0,r.jsx)(n.li,{children:"MMOItems"}),"\n",(0,r.jsx)(n.li,{children:"NBTAPI"}),"\n",(0,r.jsx)(n.li,{children:"NeigeItems"}),"\n",(0,r.jsx)(n.li,{children:"Oraxen"}),"\n",(0,r.jsx)(n.li,{children:"PlayerPoints"}),"\n",(0,r.jsx)(n.li,{children:"SkinsRestorer"}),"\n",(0,r.jsx)(n.li,{children:"Skulls"}),"\n",(0,r.jsx)(n.li,{children:"SXItem"}),"\n",(0,r.jsx)(n.li,{children:"Triton"}),"\n",(0,r.jsx)(n.li,{children:"Vault"}),"\n",(0,r.jsx)(n.li,{children:"Zaphkiel"}),"\n",(0,r.jsx)(n.li,{children:"MythicMobs"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679C\u4F60\u5E76\u4E0D\u60F3\u8981\uFF0C\u53EF\u4EE5\u5173\u95ED",(0,r.jsx)(n.code,{children:"Export-Hook-Plugin"})]}),"\n",(0,r.jsx)(n.h3,{id:"java-\u547D\u540D\u7A7A\u95F4",children:"Java \u547D\u540D\u7A7A\u95F4"}),"\n",(0,r.jsx)(n.h4,{id:"\u522B\u540D",children:"\u522B\u540D"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728",(0,r.jsx)(n.code,{children:"settings.yml"}),"\u4E2D\u7684",(0,r.jsx)(n.code,{children:"Bindings.Binding-Map"}),"\u53EF\u4EE5\u5C06\u7C7B\u4EE5\u522B\u540D\u5BFC\u51FA\u5230 JS \u547D\u540D\u7A7A\u95F4"]}),"\n",(0,r.jsx)(n.p,{children:"\u6BD4\u5982"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'\nBindings:\n  Binding-Map:\n    "Bukkit": "org.bukkit.Bukkit"\n    "EntityType": "org.bukkit.entity.EntityType"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u5947\u6280\u6DEB\u5DE7",children:"\u5947\u6280\u6DEB\u5DE7"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'java.lang["System"].out.println("TrMenu \u771F NB")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"javatype",children:"Java.type"}),"\n",(0,r.jsx)(n.p,{children:"\u521B\u5EFA\u522B\u540D"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'var System = Java.type("java.lang.System")\nSystem.out.println("TrMenu \u771F NB")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u51FD\u6570",children:"\u51FD\u6570"}),"\n",(0,r.jsx)(n.p,{children:"TrMenu \u7684 JavaScript \u5F15\u64CE\u76EE\u524D\u63D0\u4F9B\u4EE5\u4E0B\u51FD\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"vars(String input)"}),"  \u8FD4\u56DE\u66FF\u6362\u51FD\u6570\u53D8\u91CF"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"varInt(String input)"})," \u66FF\u6362\u53D8\u91CF\u5E76\u8F6C\u6362\u4E3A\u6574\u578B"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u6CE8\u610F",children:"\u6CE8\u610F"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"TrMenu \u7684 JavaScript \u5747\u4F1A\u9884\u7F16\u8BD1\u7F13\u5B58\uFF0C\u4E00\u5207\u53D8\u91CF\u4F7F\u7528\u90FD\u9700\u8981\u901A\u8FC7\u51FD\u6570\u5904\u7406"}),"\n",(0,r.jsxs)(n.li,{children:["\u8868\u793A \u201C\u6216\u201D \u7684\u7B26\u53F7\u4E3A ",(0,r.jsx)(n.code,{children:"||"})," , \u8868\u793A \u201C\u4E0E\u201D \u7684\u7B26\u53F7\u4E3A ",(0,r.jsx)(n.code,{children:"&&"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5B9E\u4F8B",children:"\u5B9E\u4F8B"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5224\u65AD\u6709\u65E0\u6743\u9650","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u53EF\u76F4\u63A5\u8C03\u7528 player \u5BF9\u8C61\u7684\u65B9\u6CD5\uFF0C",(0,r.jsx)(n.code,{children:'player.hasPermission("perm")'})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"utils",children:"utils"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/TrPlugins/TrMenu/blob/stable/v3/plugin/src/main/kotlin/trplugins/menu/module/internal/script/js/Assist.kt",children:"TrMenu/Assist.kt"})}),"\n",(0,r.jsx)(n.h2,{id:"trmenu-graaljs",children:"TrMenu GraalJS"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8BE5\u529F\u80FD\u4ECD\u5904\u4E8E\u5B9E\u9A8C\u6027"})}),"\n",(0,r.jsx)(n.p,{children:"\u8BA9 TrMenu \u4F7F\u7528 GraalJS,\u6839\u636E\u6027\u80FD\u6D4B\u8BD5,GraalJS \u7684\u6267\u884C\u6027\u80FD\u5728 Nashorn \u7684\u4E24\u500D\u4EE5\u4E0A,\u5E76\u4E14\u652F\u6301\u6700\u65B0\u7684JS\u8BED\u6CD5"}),"\n",(0,r.jsx)(n.h3,{id:"\u5B89\u88C5",children:"\u5B89\u88C5"}),"\n",(0,r.jsx)(n.p,{children:"GraalJS \u9700\u8981\u5728 GraalVM \u4E0A\u624D\u53EF\u4EE5\u5B8C\u5168\u53D1\u6325\u6027\u80FD,\u5176\u4ED6 JDK \u4E5F\u80FD\u7528"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/lilingfengdev/TrMenu-Graal/releases/download/latest/TrMenu-Graal-all.jar",children:"\u4E0B\u8F7D TrMenu GraalJS"}),",\u4F5C\u4E3A\u63D2\u4EF6\u8FDB\u884C\u5B89\u88C5"]}),"\n",(0,r.jsx)(n.h3,{id:"\u8BED\u6CD5\u6269\u5C55",children:"\u8BED\u6CD5\u6269\u5C55"}),"\n",(0,r.jsx)(n.h4,{id:"\u5305\u52A0\u8F7D",children:"\u5305\u52A0\u8F7D"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"Java.addToClasspath(location)\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5C06\u6307\u5B9A\u4F4D\u7F6E.jar\uFF08\u6587\u4EF6\u6216\u76EE\u5F55\u8DEF\u5F84\u5B57\u7B26\u4E32\uFF09\u6DFB\u52A0\u5230 Java \u7684\u7C7B\u8DEF\u5F84\u4E2D"}),"\n",(0,r.jsx)(n.h4,{id:"js\u6267\u884C",children:"JS\u6267\u884C"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"load(source)\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u52A0\u8F7D\uFF08\u89E3\u6790\u5E76\u6267\u884C\uFF09\u6307\u5B9A\u7684 JavaScript \u6E90\u4EE3\u7801"}),"\n",(0,r.jsx)(n.h4,{id:"\u5305\u8BBF\u95EE",children:"\u5305\u8BBF\u95EE"}),"\n",(0,r.jsxs)(n.p,{children:["GraalVM JavaScript \u63D0\u4F9B\u4E86\u4E00\u4E2A\u5168\u5C40\u5C5E\u6027\uFF1A",(0,r.jsx)(n.code,{children:"Packages"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'Packages.java.lang.System.out.println("TrMenu \u771F NB")\n'})}),"\n",(0,r.jsx)(n.h4,{id:"todo",children:"TODO"}),"\n",(0,r.jsx)(n.p,{children:"\u4E0D\u60F3\u5199\u4E86(:,\u8FD8\u6709()"})]})}function j(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},6774:function(e,n,i){i.d(n,{Z:()=>c,a:()=>a});var l=i(2136);let r={},s=l.createContext(r);function a(e){let n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);